{% extends 'base.html' %}

{% block content %}

<div class="container mt-5">

    <!-- Card -->
    <div class="card testimonial-card">
      <!-- Background color -->
      <div class="card-up" style="background:linear-gradient(to bottom, #0066ff 0%, #99ccff 100%)">
          <!-- Avatar -->
          <div class="avatar mx-auto p-5">
            <img src="{{customer.image.url}}" class="rounded-circle" alt="woman avatar">
          </div>
      </div>

      <!-- Content -->
      <div class="card-body">
        <!-- Name -->
        <h4 class="card-title"> <i class="far fa-user"></i> {{customer.user.username}}</h4>
        <hr>
          <div class="row">
              <div class="col-7">
                  <div class="content m-3">
                      <h4>Customer Information</h4>
                      <div class="m-3">
                          <p><i class="fas fa-signature"></i> Name: {{customer.user.first_name}} {{customer.user.last_name}}</p>
                          <p><i class="fas fa-envelope"></i> Email: {{customer.user.email}}</p>
                          <p><i class="fas fa-phone"></i> Contact: {{customer.contact}}</p>
                      </div>
                  </div>
              </div>
              <div class="col-5">
                  <div class="content p-3" style="background:linear-gradient(to bottom, #CACAC9 0%, #F9FAFB 100%)">
                      <div class="card-body p-3" ><h4 class="card-title">Total orders: {{total_orders}}</h4></div>
                      <a class="btn btn-primary btn-block" href="{% url 'createorder' customer.id %}">Place Order</a>
                </div>
              </div>
          </div>
      </div>
    </div>
    <!-- Card -->
</div>

<div class="row m-2">
    <div class="card-body">
        <table class="table table-striped">
            <thead class="black white-text" >
                <tr>
                    <th>Product</th>
                    <th>Category</th>
                    <th>Date Ordered</th>
                    <th>Status</th>
                    <th>Update</th>
                    <th>Delete</th>
                </tr>
            </thead>
            {% for order in orders %}
                <tr>
                    <td>{{order.products}}</td>
                    <td></td>
                    <td>{{order.date_created}}</td>
                    <td>{{order.status}}</td>
                    <td><a class="btn btn-sm btn-info" href="{% url 'updateorder' order.id %}">Update</a></td>
                    <td><a class="btn btn-sm btn-danger" href="{% url 'deleteorder' order.id %}">Delete</a></td>
                </tr>
            {% endfor %}
        </table>
    </div>
</div>

{% endblock %}